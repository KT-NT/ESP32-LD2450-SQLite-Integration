# ESP32-LD2450-SQLite-Integration

–°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å —Ä–∞–¥–∞—Ä–∞ LD2450 –Ω–∞ –±–∞–∑–µ ESP32, Flask –∏ SQLite.  
–ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: ESP32 –ø–µ—Ä–µ–¥–∞—ë—Ç JSON —á–µ—Ä–µ–∑ Wi-Fi ‚Üí Flask-—Å–µ—Ä–≤–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ SQLite ‚Üí –±—Ä–∞—É–∑–µ—Ä —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ Chart.js.



## üì• –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

---
git clone https://github.com/KT-NT/ESP32-LD2450-SQLite-Integration.git
cd ESP32-LD2450-SQLite-Integration
```bash

‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

    –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å

python3 -m venv venv
source venv/bin/activate

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Flask

pip install Flask

–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

    python3 server.py

    –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–ª—É—à–∞–µ—Ç http://0.0.0.0:8000/.

üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ESP32 + LD2450

    –ü–∏–Ω—ã ESP32 ‚Üî LD2450

        ESP32 GPIO16 (Serial2 RX) ‚Üê LD2450 TX

        ESP32 GPIO17 (Serial2 TX) ‚Üí LD2450 RX

        ESP32 3.3 V ‚Üê LD2450 VCC

        ESP32 GND ‚Üê LD2450 GND

    –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∫–µ—Ç—á–∞
    –í —Ñ–∞–π–ª–µ sketch_may5a.ino –ø—Ä–æ–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

    const char* ssid     = "–í–ê–®_SSID";
    const char* password = "–í–ê–®_–ü–ê–†–û–õ–¨";
    const char* serverUrl = "http://<IP_–°–µ—Ä–≤–µ—Ä–∞>:8000/add";

    –ó–∞–≥—Ä—É–∑–∫–∞ –≤ ESP32

        –û—Ç–∫—Ä–æ–π—Ç–µ sketch_may5a.ino –≤ Arduino IDE

        –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ –ø–ª–∞—Ç—É

üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

    –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: GET /

    –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

        –ó–∞–ø—Ä–æ—Å GET /all —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É

        Chart.js —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫ velocity –ø–æ frame_ts

        –ö–Ω–æ–ø–∫–∞ –°–±—Ä–æ—Å–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –æ—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ —Ç–æ—á–∫–∏

    –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω: GET /range?start=<ts>&end=<ts> (–ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞)

üìã API

    POST /add
    –ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON:

{
  "velocity": <—á–∏—Å–ª–æ>,
  "angle":    <—á–∏—Å–ª–æ>,
  "distance": <—á–∏—Å–ª–æ>
}

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 201 Created –∏ {"status":"ok"}.

GET /all
–û—Ç–≤–µ—Ç:

    [
      {"frame_ts": 1620000000, "velocity": 0.12},
      {"frame_ts": 1620000001, "velocity": 0.15},
      ...
    ]

    GET /range?start=<ts>&end=<ts>
    –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ç–∫–∞–º UNIX.

üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

ESP32-LD2450-SQLite-Integration/
‚îú‚îÄ‚îÄ server.py          # Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ API
‚îú‚îÄ‚îÄ ld2450.db          # SQLite-–±–∞–∑–∞ (–∞–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ sketch_may5a.ino   # Arduino-—Å–∫–µ—Ç—á –¥–ª—è ESP32 + LD2450
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ index.html     # HTML + Chart.js
